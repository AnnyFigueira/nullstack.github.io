{"instances": {"application":{},"n-0-0-0":{"expanded":false,"locale":"pt-BR","i18n":{"home":{"title":"Nullstack","href":"/pt-br"},"links":[{"title":"Documenta√ß√£o","href":"/pt-br/documentacao"},{"title":"Componentes","href":"/pt-br/componentes"},{"title":"Contribuidores","href":"/pt-br/contribuidores"},{"title":"Fonte","href":"https://github.com/nullstack/nullstack","target":"_blank"},{"title":"English","href":"/"}],"action":{"title":"Come√ßar","href":"/pt-br/comecando"},"mode":{"dark":"Modo Noite","light":"Modo Dia"}}},"n-0-0-0-0-0-0-1-0":{},"n-0-0-11":{"title":"Inst√¢ncia *self*","html":"<p>O objeto <em>self</em> √© um proxy na store do framework na parte do seu contexto e fornece informa√ß√µes sobre o ciclo de vida da inst√¢ncia.</p>\n<p>Essa <em>key</em> √© <em>readonly</em> e s√≥ est√° dispon√≠vel no contexto do <em>client</em>.</p>\n<p>Cada inst√¢ncia recebe seu pr√≥pio objeto <em>self</em>.</p>\n<p>As seguintes <em>keys</em> est√£o dispon√≠veis no objeto:</p>\n<ul>\n<li><em>initiated</em>: boolean</li>\n<li><em>hydrated</em>: boolean</li>\n<li><em>prerendered</em>: boolean</li>\n<li><em>element</em>: HTMLElement</li>\n</ul>\n<p>Quando um m√©todo do ciclo de vida √© resolvido, mesmo que n√£o declarado, uma <em>key</em> equivalente √© setado para true no <em>self</em></p>\n<p>Se o componente tiver sido renderizado no lado do servidor a <em>key</em> <em>prerendered</em> continuar√° como <em>true</em> at√© que seja finalizado.</p>\n<p>A <em>key</em> <em>element</em> aponta para o seletor na DOM e sua exist√™ncia s√≥ √© garantida quando o <em>hydrate</em> est√° sendo chamado e o <em>initiate</em> pode rodar no servidor.</p>\n<blockquote>\n<p>üí° N√£o use a <em>key</em> <em>element</em> para adivinhar o ambiente, ao inv√©s use <a href=\"/pt-br/contexto-environment\">environment</a> para isso.</p>\n</blockquote>\n<p>Observar o <em>self</em> √© um bom jeito de evitar dar informa√ß√µes irrelevantes para o usu√°rio final</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Page</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">// ...</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token function\">initiate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">async</span> <span class=\"token function\">hydrate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    self<span class=\"token punctuation\">.</span>element<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n \n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>self<span class=\"token punctuation\">.</span>prerendered <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>self<span class=\"token punctuation\">.</span>initiated<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">></span></span> \n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>number<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bind</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">disabled</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>self<span class=\"token punctuation\">.</span>hydrated<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span> \n          Save\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Page<span class=\"token punctuation\">;</span>\n</code></pre>\n<blockquote>\n<p>üí° Componentes que est√£o otimizados em <a href=\"/pt-br/componentes-renderizaveis\">functional components</a> n√£o tem acesso ao <em>self</em>.</p>\n</blockquote>\n<h2 id=\"pr-ximo-passo\"><a href=\"#pr-ximo-passo\">Pr√≥ximo passo</a></h2><p>‚öî Aprenda sobre <a href=\"/pt-br/instancia-key\">instance key</a>.</p>\n","description":"O objeto *self* √© um proxy na store do framework na parte do seu contexto e forne informa√ß√µes sobre o ciclo de vida da inst√¢ncia"},"n-0-0-13":{},"n-0-0-15":{},"n-0-0-16":{"locale":"pt-BR","i18n":{"nullachan":{"alt":"Nulla-Chan","title":"Nulla-Chan: Waifu oficial do Nullstack"},"links":[{"title":"YouTube","href":"https://www.youtube.com/channel/UCUNPaxoppH3lu6JTrUX78Ww"},{"title":"Twitter","href":"https://twitter.com/nullstackapp"},{"title":"GitHub","href":"https://github.com/nullstack"}]}}}, "page": {"image":"/image-1200x630.png","status":200,"title":"Inst√¢ncia *self* - Nullstack","description":"O objeto *self* √© um proxy na store do framework na parte do seu contexto e forne informa√ß√µes sobre o ciclo de vida da inst√¢ncia"}}